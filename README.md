# CallCenter

Данное веб приложение выполнялось как тестовое задание

# Задача 

Есть некая сущность – звонок. Основными свойствами данной сущности являются:

* Длительность
* Статус звонка (соединен, брошен, пропущен, ошибка)
* Моменты начала звонка, соединения, терминирования
* Списки участников разговора (номера, идентификаторы)
* Списки связанных звонков (к примеру – если в процессе работы со звонком некий участник совершил дополнительный звонок, без прекращения основного звонка)
Набор свойств в какой-то момент времени может быть дополнен.

Предложите структуру хранения данной информации, сформируйте требования к базе данных хранящей данную информацию. Реализуйте веб-приложение осуществляющий доступ к данной информации и позволяющее осуществлять выборку звонков по одному или нескольким указанным выше свойствам.

Бонусные задания:

* Документирование приложения. Обоснование выбранного решения ( если посчитаете нужным).

Структуру базы данных можно увидеть на картинке: ![Иллюстрация к проекту](https://github.com/holodnukfedor/CallCenter/blob/master/callCenterDbScheme.png)

Скрипты, которые ее создают по адресу [https://github.com/holodnukfedor/CallCenter/tree/master/SQLScripts](https://github.com/holodnukfedor/CallCenter/tree/master/SQLScripts)
Хотя скрипты не нужны для создания БД, поскольку используется подход Entity framework Code First, при котором также в проекте БД заполняется тестовыми данными

Поле таблицы PhoneCalls DurationSeconds является вычисляемым как разница между ConnectionTime и DurationTime в секундах, фильт для него также работает в секундах
В проекте реализован гибкий фильтр с помощью DynamicLinq, который создать предикаты фильтрации на основе строк приходящих от клиента вроде {GroupOperator: "AND", FilterRules: [{PropertyName: "Value", "PropertyValue" : "Value", op: "eq"}, {PropertyName: "Value2", "PropertyValue" : "Value2", op: "lt"}]}.
Данный фильтр можно использовать повторно для любых других таблиц. 

Также реализованы пагинация и сортировка, поскольку они не усложняют задачу.
